/** This file was autogenerated. Follow the steps in src/schema/slack/functions/README.md to rebuild **/
import { DefineConnector } from "../../../deps.ts";
import { Schema } from "../../../deps.ts";

export default DefineConnector({
  callback_id: "A05DD2DNMGF#/functions/create_ignore",
  title: "Ignore an issue",
  description:
    "Ignores vulnerabilities or license issues for a given organization and project",
  input_parameters: {
    properties: {
      org_id: {
        type: Schema.types.string,
        description: "Select an organization...",
        title: "Organization",
      },
      project_id: {
        type: Schema.types.string,
        description: "Select a project...",
        title: "Project",
      },
      issue_id: {
        type: Schema.types.string,
        description: "Enter an issue ID...",
        title: "Issue ID",
      },
      reason: {
        type: Schema.types.string,
        description: "Enter a reason...",
        title: "Reason",
      },
      reason_type: {
        type: Schema.types.string,
        description:
          "Valid options are: Not vulnerable, Wont fix, Temporarily ignore",
        title: "Reason Type",
        enum: ["not-vulnerable", "wont-fix", "temporary-ignore"],
      },
      disregard_if_fixable: {
        type: Schema.types.boolean,
        description: "Toggle if issue is not fixable...",
        title: "Disregard if fixable",
      },
      snyk_access_token: {
        type: Schema.slack.types.oauth2,
        description: "Snyk Credential to use",
        title: "Snyk Access Token",
      },
    },
    required: [
      "org_id",
      "project_id",
      "issue_id",
      "reason_type",
      "disregard_if_fixable",
      "snyk_access_token",
    ],
  },
  output_parameters: {
    properties: {
      issue_id: {
        type: Schema.types.string,
        description: "Snyk issue identifier",
        title: "Issue ID",
      },
      reason_type: {
        type: Schema.types.string,
        description: "Category for the reason to ignore the issue",
        title: "Reason Type",
      },
      reason: {
        type: Schema.types.string,
        description: "The reason why the issue was ignored",
        title: "Reason",
      },
    },
    required: ["issue_id", "reason_type"],
  },
});
